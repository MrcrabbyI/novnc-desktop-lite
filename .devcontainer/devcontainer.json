{
  "name": "Codespace with Xpra 6.3+ Fluxbox GUI",
  "image": "ubuntu:24.04",

  "features": {
    "ghcr.io/devcontainers/features/common-utils:2": {}
  },

  "forwardPorts": [6080],

  "containerEnv": {
    "DEBIAN_FRONTEND": "noninteractive"
  },

  "postCreateCommand": "apt-get update && apt-get install -y --no-install-recommends curl ca-certificates gnupg && curl -fsSL https://xpra.org/gpg.asc | gpg --dearmor -o /usr/share/keyrings/xpra.gpg && echo 'deb [signed-by=/usr/share/keyrings/xpra.gpg] https://xpra.org/ noble main' > /etc/apt/sources.list.d/xpra.list && apt-get update && apt-get install -y xpra xvfb fluxbox novnc xterm pcmanfm mousepad && echo 'âœ… Xpra 6.3+ and desktop tools installed'",

  "postStartCommand": "bash /workspaces/$(basename $PWD)/.devcontainer/postStartCommand.sh",

  "customizations": {
    "vscode": {
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash"
      }
    }
  }
}
